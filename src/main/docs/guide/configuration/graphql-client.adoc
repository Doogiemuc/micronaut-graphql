The `micronaut-graphql` modules also provides an easy way to create a Micronaut HTTP client to consume a GraphQL endpoint.
This is very useful in integrations tests but could also be used to consume an external GraphQL endpoint.

Simply configure a Micronaut https://docs.micronaut.io/latest/api/io/micronaut/http/client/annotation/Client.html[Client] like:

.GraphQLClient.java
[source,java]
----
import io.micronaut.graphql.GraphQLOperations;
import io.micronaut.http.client.annotation.Client;

@Client("/graphql")
public interface GraphQLClient extends GraphQLOperations {
}
----

This client can then be used to consume the GraphQL endpoint:

[source,java]
----
GraphQLRequestBody body = new GraphQLRequestBody();
body.setQuery("{ foo }");

Publisher<GraphQLResponseBody> response = graphQLClient.post(body);
----

If special request headers need to be passed, e.g. to provide a client id and/or security token, see
https://docs.micronaut.io/latest/guide/index.html#clientHeaders[customizing request headers].
